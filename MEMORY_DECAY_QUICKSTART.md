# è®°å¿†è¡°å‡ç³»ç»Ÿ - å¿«é€Ÿå…¥é—¨

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥: å¯ç”¨æ¨¡å—

åœ¨ `manifest.json` ä¸­æ·»åŠ :

```json
{
  "js": "index.js",
  "css": "style.css",
  "requires": [
    "memory_decay_manager.js"  // â† æ·»åŠ è¿™ä¸€è¡Œ
  ]
}
```

### ç¬¬äºŒæ­¥: é…ç½®å‚æ•°

æ ¹æ®ä½ çš„ä½¿ç”¨åœºæ™¯é€‰æ‹©é¢„è®¾:

#### åœºæ™¯A: é•¿æœŸè§’è‰²æ‰®æ¼” (æ¨è)
```javascript
// åœ¨ memory_decay_manager.js ä¸­ä¿®æ”¹
dormancyThresholds: {
    core: 90,      // æ ¸å¿ƒè®°å¿†3ä¸ªæœˆä¸å¿˜
    important: 60,
    normal: 30,
    trivial: 14
}
```

#### åœºæ™¯B: çŸ­æœŸå‰§æƒ…
```javascript
dormancyThresholds: {
    core: 30,
    important: 14,
    normal: 7,
    trivial: 3
}
```

#### åœºæ™¯C: å®Œç¾è®°å¿† (AIåŠ©æ‰‹æ¨¡å¼)
```javascript
enableMemoryDecay: false,  // å…³é—­è¡°å‡
clarityMode: 'full'        // å§‹ç»ˆå®Œæ•´
```

### ç¬¬ä¸‰æ­¥: ä½¿ç”¨

**è‡ªåŠ¨æ¨¡å¼** (é»˜è®¤,æ— éœ€æ“ä½œ):
- ç³»ç»Ÿè‡ªåŠ¨è¿½è¸ªæ‰€æœ‰è®°å¿†çš„è®¿é—®å’Œæ›´æ–°
- è‡ªåŠ¨è®¡ç®—æƒé‡å’Œæ¸…æ™°åº¦
- è‡ªåŠ¨ç®¡ç†ä¼‘çœ çŠ¶æ€

**æ‰‹åŠ¨æ¿€æ´»** (ç”¨æˆ·æé†’æ—¶):
```javascript
// ç”¨æˆ·è¯´: "è¿˜è®°å¾—æˆ‘ä»¬ç¬¬ä¸€æ¬¡è§é¢å—?"
Gaigai.MemoryDecay.activateMemory(8, 0, 8);
// â†’ æƒé‡ç«‹å³æ¢å¤,è¿”å›å®Œæ•´ç»†èŠ‚
```

---

## ğŸ“Š æ ¸å¿ƒæ¦‚å¿µé€ŸæŸ¥

### æƒé‡ç­‰çº§

| æƒé‡ | æ¸…æ™°åº¦ | è¡¨ç° |
|------|--------|------|
| 80-100 | éå¸¸æ¸…æ™° | å®Œæ•´ç»†èŠ‚ |
| 60-79 | æ¸…æ™° | å»æ‰æ¬¡è¦ç»†èŠ‚ |
| 30-59 | æ¨¡ç³Š | åªè®°å¾—å¤§æ¦‚ |
| 0-29 | å¾ˆæ¨¡ç³Š | åªè®°å¾—æœ‰è¿™ä¹ˆå›äº‹ |

### é‡è¦æ€§ç­‰çº§

| ç­‰çº§ | é€‚ç”¨ | ä¼‘çœ é˜ˆå€¼ |
|------|------|----------|
| core | æ ¸å¿ƒè®¾å®š | 90å¤© |
| important | é‡è¦äº‹ä»¶ | 60å¤© |
| normal | æ—¥å¸¸å†…å®¹ | 30å¤© |
| trivial | æ¬¡è¦ç»†èŠ‚ | 14å¤© |

### æƒ…æ„Ÿå¼ºåº¦

| åˆ†æ•° | åœºæ™¯ |
|------|------|
| 9-10 | ç”Ÿæ­»ç¦»åˆ«ã€é‡å¤§èƒŒå› |
| 7-8 | è¡¨ç™½ã€å¤±æ‹ã€å†²çª |
| 5-6 | å¼€å¿ƒã€å¤±æœ›ã€æ‹…å¿§ |
| 3-4 | å¾®ç¬‘ã€ç–‘æƒ‘ã€å¥½å¥‡ |
| 0-2 | æ—¥å¸¸å¯¹è¯ã€ä¸­æ€§ |

---

## ğŸ”§ å¸¸ç”¨API

### åˆå§‹åŒ–è®°å¿†
```javascript
Gaigai.MemoryDecay.initMetadata(
    3,           // è¡¨æ ¼ç´¢å¼•
    5,           // è¡Œç´¢å¼•
    'important', // é‡è¦æ€§
    7            // æƒ…æ„Ÿå¼ºåº¦
);
```

### è·å–æ¨¡ç³Šè®°å¿†
```javascript
const result = Gaigai.MemoryDecay.getClarity(metadata, originalContent);
console.log(result.content);  // æ ¹æ®æƒé‡è¿”å›ä¸åŒæ¸…æ™°åº¦çš„å†…å®¹
```

### æ¿€æ´»è®°å¿†
```javascript
Gaigai.MemoryDecay.activateMemory(
    8,  // è¡¨æ ¼ç´¢å¼•
    0,  // è¡Œç´¢å¼•
    8   // æé†’å¼ºåº¦ (1-10)
);
```

### æ‰¹é‡æ›´æ–°
```javascript
const stats = Gaigai.MemoryDecay.updateAll();
console.log(`ä¼‘çœ : ${stats.dormant}, å¯åˆ é™¤: ${stats.deletable}`);
```

---

## âš¡ å®æˆ˜ç¤ºä¾‹

### ç¤ºä¾‹1: è®°å¿†éšæ—¶é—´æ¨¡ç³Š

```
ç¬¬1å¤©: "å¼ ä¸‰,28å²,ç¨‹åºå‘˜,ä½åœ¨åŒ—äº¬æœé˜³åŒº,å–œæ¬¢æ‰“ç¯®çƒå’Œçœ‹ç”µå½±"
â†’ æƒé‡: 96, æ¸…æ™°åº¦: éå¸¸æ¸…æ™°

ç¬¬30å¤©: "å¼ ä¸‰,28å²,ç¨‹åºå‘˜,ä½åœ¨åŒ—äº¬,å–œæ¬¢è¿åŠ¨"
â†’ æƒé‡: 65, æ¸…æ™°åº¦: æ¸…æ™° (å»æ‰äº†æ¬¡è¦ç»†èŠ‚)

ç¬¬60å¤©: "å¼ ä¸‰,20å¤šå²,ITä»ä¸šè€…"
â†’ æƒé‡: 42, æ¸…æ™°åº¦: æ¨¡ç³Š (åªè®°å¾—å¤§æ¦‚)

ç¬¬90å¤©: "å¥½åƒæœ‰ä¸ªå«å¼ ä¸‰çš„äºº,å…·ä½“è®°ä¸æ¸…äº†"
â†’ æƒé‡: 18, æ¸…æ™°åº¦: å¾ˆæ¨¡ç³Š
```

### ç¤ºä¾‹2: ç”¨æˆ·æé†’åæ¢å¤

```
ç”¨æˆ·: "è¿˜è®°å¾—å¼ ä¸‰å—?ä»–æ˜¯ç¨‹åºå‘˜"

AIå†…éƒ¨:
activateMemory(3, 5, 8);
â†’ æƒé‡: 18 â†’ 95 (æå‡77ç‚¹!)
â†’ æ¸…æ™°åº¦: å¾ˆæ¨¡ç³Š â†’ éå¸¸æ¸…æ™°

AIå›å¤: "å½“ç„¶è®°å¾—!å¼ ä¸‰28å²,æ˜¯ç¨‹åºå‘˜,ä½åœ¨åŒ—äº¬æœé˜³åŒº,å–œæ¬¢æ‰“ç¯®çƒå’Œçœ‹ç”µå½±"
```

### ç¤ºä¾‹3: é¢‘ç¹è®¿é—®å¼ºåŒ–è®°å¿†

```
ç¬¬1æ¬¡è®¿é—®: æƒé‡ 50
ç¬¬10æ¬¡è®¿é—®: æƒé‡ 70 (é¢‘ç‡åŠ æˆ +20)
ç¬¬50æ¬¡è®¿é—®: æƒé‡ 80 (é¢‘ç‡åŠ æˆå°é¡¶ +30)

ç»“æœ: ç»å¸¸æåŠçš„å†…å®¹ä¼šè¶Šæ¥è¶Šæ·±åˆ»,ä¸å®¹æ˜“é—å¿˜
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **åˆç†è¯„ä¼°é‡è¦æ€§**
   - æ ¸å¿ƒè®¾å®š â†’ core
   - å…³é”®äº‹ä»¶ â†’ important
   - æ—¥å¸¸å†…å®¹ â†’ normal
   - æ¬¡è¦ç»†èŠ‚ â†’ trivial

2. **å‡†ç¡®è¯„ä¼°æƒ…æ„Ÿ**
   - å¼ºçƒˆæƒ…æ„Ÿçš„äº‹ä»¶ä¸å®¹æ˜“å¿˜è®°
   - ä¸­æ€§å¯¹è¯å¿«é€Ÿè¡°å‡

3. **å®šæœŸç»´æŠ¤**
   ```javascript
   // æ¯å¤©è¿è¡Œä¸€æ¬¡
   Gaigai.MemoryDecay.updateAll();
   ```

4. **åŠæ—¶æ¿€æ´»**
   - ç”¨æˆ·æé†’æ—¶ç«‹å³è°ƒç”¨ `activateMemory()`
   - ä¸è¦ç­‰åˆ°å®Œå…¨å¿˜è®°æ‰å¤„ç†

### âŒ é¿å…åšæ³•

1. ~~æ‰€æœ‰è®°å¿†éƒ½æ ‡è®°ä¸º 'core'~~ â†’ ä¼šå¤±å»é—å¿˜æ•ˆæœ
2. ~~ä»ä¸æ›´æ–°è®°å¿†çŠ¶æ€~~ â†’ æƒé‡è®¡ç®—ä¸å‡†ç¡®
3. ~~ç›²ç›®åˆ é™¤ä½æƒé‡è®°å¿†~~ â†’ å¯èƒ½åˆ æ‰é‡è¦å†…å®¹
4. ~~å…³é—­å¤‡ä»½åŠŸèƒ½~~ â†’ å‹ç¼©åæ— æ³•æ¢å¤

---

## ğŸ” è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹è®°å¿†è¯¦æƒ…
```javascript
const meta = Gaigai.MemoryDecay.getMetadata(3, 5);
console.log(`
æƒé‡: ${meta.currentWeight.toFixed(1)}
æ¸…æ™°åº¦: ${meta.clarity}
é˜¶æ®µ: ${meta.memoryPhase}
è®¿é—®æ¬¡æ•°: ${meta.accessCount}
ä¼‘çœ å¤©æ•°: ${meta.dormantDays}
`);
```

### æ£€æŸ¥å¯åˆ é™¤è®°å¿†
```javascript
const deletable = Gaigai.MemoryDecay.getDeletable();
deletable.forEach(m => {
    console.log(`è¡¨${m.tableIndex} è¡Œ${m.rowIndex}: æƒé‡${m.weight.toFixed(1)}, ä¼‘çœ ${m.dormantDays}å¤©`);
});
```

### æ‰‹åŠ¨è§¦å‘è¡°å‡
```javascript
// æµ‹è¯•è®°å¿†åœ¨30å¤©åçš„çŠ¶æ€
const meta = Gaigai.MemoryDecay.getMetadata(3, 5);
meta.lastAccessTime -= 30 * 24 * 60 * 60 * 1000; // å‡å»30å¤©
const weight = Gaigai.MemoryDecay.calculateWeight(meta);
console.log(`30å¤©åæƒé‡: ${weight.toFixed(1)}`);
```

---

## ğŸ“ éœ€è¦å¸®åŠ©?

- ğŸ“– å®Œæ•´æ–‡æ¡£: `MEMORY_DECAY_GUIDE.md`
- ğŸ› æŠ¥å‘Šé—®é¢˜: GitHub Issues
- ğŸ’¬ è®¨è®ºäº¤æµ: GitHub Discussions

---

**å¿«é€Ÿå¼€å§‹,äº«å—è‡ªç„¶çš„è®°å¿†è¡°å‡ä½“éªŒ!** ğŸ§ âœ¨
